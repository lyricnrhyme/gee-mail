<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans" rel="stylesheet">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
		// function createMessage() {
  //   		timer = setInterval(newMessage, 3000);
		// }



		// createMessage();
        var geemailTitle = document.createElement("div");
        geemailTitle.id = "title";
        geemailTitle.innerHTML = "GeeMail";
        document.getElementById("main").appendChild(geemailTitle);


        var inboxElem = document.createElement("div");
        inboxElem.id = "inboxElem";
        document.body.appendChild(inboxElem);

        var inboxTitle = document.createElement("div");
        inboxTitle.id = "inboxTitle";
        inboxTitle.innerHTML = "Messages to read:";
        inboxElem.appendChild(inboxTitle);

        var inboxCount = document.createElement("div");
        inboxCount.id = "inboxCount";
        inboxCount.innerHTML = window.geemails.length;
        inboxElem.appendChild(inboxCount);

        var inboxMessages = document.createElement("div");
        inboxMessages.id = "inboxMessages";
        document.body.appendChild(inboxMessages);

  //       function newMessage() {
  // 		window.geemails.push(getNewMessage());
  // 		inboxCount.innerHTML = window.geemails.length;
		// }


        for (var i=0; i<window.geemails.length; i++) {
        	// console.log(window.geemails[i]);
        	var messageDiv = document.createElement("div");
        	messageDiv.className = "message";
        	inboxMessages.appendChild(messageDiv);

        	var infoDiv = document.createElement("div");
        	infoDiv.className = "info";
        	messageDiv.appendChild(infoDiv);

        	var senderDiv = document.createElement("div");
        	senderDiv.className = "sender";
        	senderDiv.innerHTML = window.geemails[i].sender;
        	infoDiv.appendChild(senderDiv);

        	var subjectDiv = document.createElement("div");
        	subjectDiv.className = "subject";
        	subjectDiv.innerHTML = window.geemails[i].subject;
        	infoDiv.appendChild(subjectDiv);

        	var dateDiv = document.createElement("div");
        	dateDiv.className = "date";
        	dateDiv.innerHTML = window.geemails[i].date;
        	infoDiv.appendChild(dateDiv);


        	var bodyDiv = document.createElement("div");
        	bodyDiv.className = "body";
        	bodyDiv.innerHTML = window.geemails[i].body;
        	messageDiv.appendChild(bodyDiv);
          bodyDiv.style.display = "none";

        	messageDiv.addEventListener("click", show);
        }


        function show() {

        	var showMe = this.querySelector(".body");
        	if (showMe.style.display === "none") {
        			showMe.style.display = "block";
        	} else {
        			showMe.style.display = "none";
        		}
        }


      };
    </script>
	</head>
	<body>
		<div class="container" id="main">
			<img src="images/geeMailEnvelope.png" class="icon">
		</div>
	</body>
</html>